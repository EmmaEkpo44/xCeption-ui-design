(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[10],{HzTE:function(e,a,t){"use strict";var n=t("q1tI"),l=t("E+s5");const r={defaultUrl:(()=>{switch(window.document.domain){case"localhost":case"dev.polestar.com":case"vs-configurator-2.dev.devhouse.digital":return"https://vs-configurator-api.dev.devhouse.digital/";case"staging.polestar.com":case"vs-configurator-2.staging.devhouse.digital":return"https://vs-configurator-api.staging.devhouse.digital/";case"www.polestar.com":case"vs-configurator-2.prod.devhouse.digital":default:return"https://vs-configurator-api.prod.devhouse.digital/"}})(),datoUrl:"",datoToken:""},i=Object(l.a)(r);var o=t("M6hU"),c=t("Cg+/");const s=t("UYTu").b`
  query (
    $market: String!
    $state: String!
    $modelName: String!
    $dealerName: String
    $provinceName: String
    $summaryPrice: String
    $summaryPriceWithIncentive: String
  ) {
    getOrderDocument(
      input: {
        market: $market
        state: $state
        modelName: $modelName
        dealerName: $dealerName
        provinceName: $provinceName
        summaryPrice: $summaryPrice
        summaryPriceWithIncentive: $summaryPriceWithIncentive
      }
    ) {
      url
      errors {
        code
        message
      }
    }
  }
`;a.a=()=>{const{appData:e,staticData:a}=Object(o.a)(),[t,l]=Object(n.useState)(!1),r=Object(n.useCallback)((t,n)=>{var r;if(!e||!a)return;const o=sessionStorage.getItem("additionalOrderDetails");let d;o&&(d=JSON.parse(o)),l(!0);const{model:u,state:p,partner:m}=e,{market:b,regions:f}=a;let g=p;var v,y,h;t&&n&&(g=Object(c.a)(p,n)),(v=s,y={market:b.localeMappingCode,modelName:u.modelName,state:g,dealerName:null===(r=d)||void 0===r?void 0:r.dealerName,provinceName:null==f?void 0:f.data.partnerCashRegionLookup[m],summaryPrice:t},h=!1,i.query({query:v,variables:y,fetchPolicy:h?"cache-first":"no-cache"})).then(e=>{l(!1),window.open(e.data.getOrderDocument.url,"_parent")}).catch(e=>{l(!1),console.warn("received error "+e)})},[e,a]);let d;if(a){const{isNotAppMode:e,isNotEventMode:t,pdfLabels:n}=a;n&&n.pdfLinkTitle&&e&&t&&(d=n.pdfLinkTitle)}return{callPDF:r,pdfCTAText:d,isLoading:t}}},Wcqt:function(e,a,t){"use strict";t.r(a);var n=t("lSNA"),l=t.n(n),r=t("q1tI"),i=t.n(r),o=t("topC"),c=t("eyNS"),s=t("us25"),d=t("EnI0"),u=t("M6hU"),p=t("uA5p"),m=t("83g6"),b=t("K/Sw"),f=t("iybU"),g=t("fAKJ");function v(e,a,t){return e.substr(0,a)+t+e.substr(a+1)}function y(e,a,t,n){const{country:l,currency:r,language:i}=t,o=`${i}-${l}`;if(a.unit){if(a.type!==g.e.DownPayment||a.unitType&&a.unitType!==g.d.Money||!n)return`${e.toLocaleString(o)} ${a.unit}`;{let t="",l=!1;try{t=n(a.unit).format(e)}catch(e){l=!0}if(l){const l=function(e,a){return(0).toLocaleString(e,{currency:a,maximumFractionDigits:0,minimumFractionDigits:0,style:"currency"}).replace(/\d/g,"").trim()}(o,r),i=new RegExp(l,"g");t=n(r).format(e).replace(i,a.unit)}if("fr-BE"===o){t=t.replace(/\s+/g,".");const e=t.lastIndexOf(".");t=v(t,e," ")}else if("no-NO"===o)t=t.replace(/,+/g," ");else if("fr-CA"===o){t=t.replace(/\s+/g,".");const e=t.lastIndexOf(".");t=v(t,e,""),t=t.replace(/\.+/g," ")}else if("zh-CN"===o)t=v(t,1," ");else if("fr-CH"===o){t=t.replace(/\s+/g,"’");const e=t.lastIndexOf("’");t=`${a.unit} ${t.substr(0,e)}`}return t}}return""+e.toLocaleString(o)}function h(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function E(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?h(Object(t),!0).forEach((function(a){l()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}const O=(e,a,t,n)=>{const{customerTypes:l,selectedFinance:r}=e.data,{options:i}=r;let o,c=void 0,s="",d="",u=void 0,p="";const m=[];let b=!0;const f=(e,a)=>({type:e,value:a});return l&&l.forEach(l=>{l.customerType===a&&(d=l.customerType,l.financialProducts&&l.financialProducts.forEach(a=>{if(a.type===t){var r,d;p=a.name,a.moreInformationUrl&&(s=a.moreInformationUrl);const y=a.description;c={text:y?{type:"markdown",value:y}:void 0,link:s?{label:e.labels.readMoreAboutFinanceMethod,url:s}:void 0},o=t,b=!!a.showCashTotalPrice,u=n||(null===(r=l.customerSubTypes)||void 0===r||null===(d=r.find(e=>!0===e.isDefault))||void 0===d?void 0:d.custSubType),(v=a.options)&&v.forEach(e=>{if(i&&i.length>0)for(const a of i)e.type.toLowerCase()===a.type&&(e.type.toLowerCase()===g.e.Residual&&a.key?m.push(f(e.type.toLowerCase(),a.key)):m.push(f(e.type.toLowerCase(),a.value)));else if(e.defaultValue&&e.type)m.push(f(e.type.toLowerCase(),e.defaultValue));else if(e.parameterList&&e.parameterList.length>0&&e.type){const a=S(e.parameterList);m.push(f(e.type.toLowerCase(),a))}})}var v}))}),{productInfo:c,readMoreUrl:s,customerType:d,customerSubType:u,productName:p,productType:o,sliderValues:m,showCash:b}};const k=(e,a,t,n,l,r)=>{let i,o,c,s,d;e&&e.length>0&&e.forEach(e=>{"number"==typeof e.value?e.type.toLowerCase()===g.e.Terms?o=e.value:e.type.toLowerCase()===g.e.Mileage?i=e.value:e.type.toLowerCase()===g.e.DownPayment&&(c=n?e.value:Math.round(e.value)):e.type.toLowerCase()===g.e.Residual&&(s=e.value,d=r)});return{customerType:a,customerSubType:l,downPayment:c,residual:s,residualAmount:d,financialType:t,mileage:i,terms:o}},j=e=>{const a={};return e&&e.forEach(e=>{a[e.type]=String(e.value)}),a},C=(e,a,t,n,l,r)=>{var i;const{customerTypes:o,monthlyCalculation:c}=n.data;let s=void 0,d="",u="",p="";const m=[];let b,f=t,g=void 0,v=!0;if(c){const{maxResidualValue:e}=c;g=e}"switchCustomerType"===a?(u=e,o.forEach(e=>{if(e.customerType===u&&e.financialProducts)for(const a of e.financialProducts)if(a.isDefault&&(b=E({},a),f=a.type,v=!!a.showCashTotalPrice,a.moreInformationUrl&&(d=a.moreInformationUrl),s={text:a.description?{type:"plain",value:a.description}:void 0,link:d?{label:n.labels.readMoreAboutFinanceMethod,url:d}:void 0},a.options))for(const e of a.options)if(e.type&&e.defaultValue)m.push({type:e.type.toLowerCase(),value:e.defaultValue});else if(e.type&&e.parameterList&&e.parameterList.length>0){const a=S(e.parameterList);m.push({type:e.type.toLowerCase(),value:a})}})):"changeFinancialProduct"===a&&l?(f=e,u=l,o.forEach(e=>{if(e.customerType===l&&e.financialProducts)for(const a of e.financialProducts)if(f===a.type&&(b=E({},a),v=!!a.showCashTotalPrice,a.moreInformationUrl&&(d=a.moreInformationUrl),s={text:a.description?{type:"plain",value:a.description}:void 0,link:d?{label:n.labels.readMoreAboutFinanceMethod,url:d}:void 0},a.options))for(const e of a.options)if(e.type&&e.defaultValue)m.push({type:e.type.toLowerCase(),value:e.defaultValue});else if(e.type&&e.parameterList&&e.parameterList.length>0){const a=S(e.parameterList);m.push({type:e.type.toLowerCase(),value:a})}})):"changeCustomerSubType"===a&&l&&(p=e,u=l,o.forEach(e=>{if(e.customerType===l&&e.financialProducts)for(const a of e.financialProducts)if(f===a.type&&(b=E({},a),v=!!a.showCashTotalPrice,a.moreInformationUrl&&(d=a.moreInformationUrl),s={text:a.description?{type:"plain",value:a.description}:void 0,link:d?{label:n.labels.readMoreAboutFinanceMethod,url:d}:void 0},a.options))for(const e of a.options)if(e.type&&e.defaultValue)m.push({type:e.type.toLowerCase(),value:e.defaultValue});else if(e.type&&e.parameterList&&e.parameterList.length>0){const a=S(e.parameterList);m.push({type:e.type.toLowerCase(),value:a})}}));let y,h="";b&&b.conflicts&&b.conflicts.extras&&b.conflicts.extras.removed&&b.conflicts.extras.removed.length>0&&(y=b.conflicts.extras.removed,h=b.name);const O=k(m,u,f,r,p,g);return{conflictIds:y,customerType:u,customerSubType:p,financeDetails:{financeParams:O,productName:h},productInfo:s,readMoreUrl:d,productName:(null===(i=b)||void 0===i?void 0:i.name)||"",productType:f,sliderValues:m,showCash:v}},w=(e,a,t,n,l)=>{const r=[];if(n){const{customerTypes:i}=null==n?void 0:n.data,{customerType:o,productType:c,sliderValues:s}=t,d=((e,a,t)=>{const n=[];return e.forEach(e=>{e.customerType===a&&e.financialProducts&&e.financialProducts.forEach(e=>{e.type===t&&e.options&&e.options.forEach(e=>{(e.defaultValue||0===e.defaultValue||e.parameterList)&&n.push(e)})})}),n})(i,o,c);for(const t of d)if(t.type===a)r.push({type:t.type.toLowerCase(),value:e});else if(s&&s.length>0){for(const n of s)if(n.type===t.type.toLowerCase())if("with_residual_value"===e&&a===g.e.Residual&&n.type===g.e.DownPayment){const e=l&&Number(n.value)>l?l:n.value;r.push({type:t.type.toLowerCase(),value:e})}else r.push({type:t.type.toLowerCase(),value:n.value})}else t.defaultValue&&r.push({type:t.type.toLowerCase(),value:t.defaultValue})}return r};function S(e){var a;return(null===(a=e.find(e=>e.isDefault))||void 0===a?void 0:a.key)||e[0].key}var x=t("DZdY"),T=t("Rq2L"),P=t("okeJ"),D=t("PGlZ"),L=t("tgN+"),F=t("Zd/k"),I=t("rUBB");var A=({sliderValues:e,customerType:a,customerSubType:t,productType:n})=>{var l,o;const{appData:c,staticData:d,calculatePriceAction:p,setFspState:m}=Object(u.a)(),{setFspLoading:b,isFspLoading:v,setFspError:y}=Object(s.b)(),{setUiStateErrorMessage:h}=Object(I.a)(),E=null==d?void 0:d.market,O=null==d?void 0:d.isMotoInsight,j=Object(f.a)(v),[C,w]=Object(r.useState)(),S=null==c||null===(l=c.financialProductDefinitions)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.monthlyCalculation,x=null==c?void 0:c.provinceCode,T=(e||[]).map(e=>({id:""+e.type,value:""+e.value})),P=Object(r.useCallback)(e=>{if(e.state===F.a.OK){let l;S&&(l=S.maxResidualValue);const r={},i=[];(e.inputs||[]).forEach(e=>{r[e.id]=String(e.value),e.id!==g.e.Residual?i.push({type:e.id,value:Number(e.value)}):i.push({type:e.id,value:e.value})});const o=k(i,a,n,!0,t,l);p(o,r),m(e)}else e.state===F.a.ERROR&&(h({type:"ERROR_MESSAGE"}),y(!0));b(e.state===F.a.LOADING)},[p,t,a,S,n,y,b,m,h]);Object(r.useEffect)(()=>()=>{b(!1),y(!1)},[y,b,m]);const D=O?sessionStorage.getItem("additionalOrderDetails"):void 0,{zipCode:L,dealer:A}=Object(r.useMemo)(()=>{if(D){const e=JSON.parse(D);return{zipCode:e.userZipCode,dealer:e.dealerCode}}return{zipCode:"",dealer:""}},[D]);return Object(r.useEffect)(()=>{if(E&&c){var e,l;const{accessories:r,pno34:i,model:{modelYear:o},features:s,delivery:d,cpsPriceBreakdown:u,incentive:p}=c,{currency:m,locale:b,localeMappingCode:f}=E,v=(null==d||null===(e=d.data)||void 0===e?void 0:e.handoverDate)||"";if(!u)return;const y=(s||[]).find(e=>{var a;return(null===(a=e.data)||void 0===a?void 0:a.id)===g.g.Extras}),h=((null==y||null===(l=y.data)||void 0===l?void 0:l.selectedFeatures)||[]).map(e=>({code:e.code})),O=()=>{if(null!=C&&C.extras.length&&h.length){const e=C.extras;return e.length!==h.length||h.map(e=>e.code).join()!==e.map(e=>e.code).join()}return!!(null!=C&&C.extras.length||h.length)};let k=i+(null==r?void 0:r.filter(e=>!i.includes(e)).join("")),j=t===g.a.None?void 0:t;((null==C?void 0:C.financeProduct)!==n||(null==C?void 0:C.pno34OptionsAccessories)!==k||(null==C?void 0:C.customerType)!==a||(null==C?void 0:C.tradingStyle)!==j||O()||(null==C?void 0:C.zipCode)!==L||(null==C?void 0:C.handoverDate)!==v||(null==C?void 0:C.dealer)!==A||(null==C?void 0:C.provinceCode)!==x)&&w({currency:m,customerType:a,dealer:A,extras:h,financeProduct:n,enableIncentiveDisclaimer:void 0!==p,handoverDate:v,locale:b,marketCode:f,modelYear:o,pno34OptionsAccessories:k,priceBreakdown:u,provinceCode:x,tradingStyle:j,userInputs:T,zipCode:L,onChange:P})}},[c,a,A,E,P,n,e,L,j,t,null==C?void 0:C.financeProduct,null==C?void 0:C.pno34OptionsAccessories,null==C?void 0:C.customerType,null==C?void 0:C.zipCode,null==C?void 0:C.handoverDate,null==C?void 0:C.dealer,null==C?void 0:C.provinceCode,null==C?void 0:C.tradingStyle,x,null==C?void 0:C.extras,T]),C?i.a.createElement(F.b,{currency:C.currency||"",customerType:C.customerType||"",dealer:C.dealer||"",extras:C.extras||[],financeProduct:C.financeProduct||"",enableIncentiveDisclaimer:C.enableIncentiveDisclaimer||!1,handoverDate:C.handoverDate||"",locale:C.locale||"",marketCode:C.marketCode||"",modelYear:C.modelYear||"",pno34OptionsAccessories:C.pno34OptionsAccessories,priceBreakdown:C.priceBreakdown,provinceCode:C.provinceCode||"",tradingStyle:C.tradingStyle||"",userInputs:C.userInputs||[],zipCode:C.zipCode||"",onChange:P}):null},M=t("pz1y"),N=t("ZIlh"),V=t("JbaH"),B=t("4UL4"),U=t("G2bx"),R=t("bKkW"),z=t("51ZC"),_=t("3OxQ"),W=t("7IIt"),$=t("HzTE"),q=t("IAMl"),G=t("GkzE"),H=t("Z3wb"),Y=t("rAqL"),Z=t("TYwc"),J=t("buVf");const K=Object(x.a)("div",{target:"e12crsd0"})("");var X=({primary:e,secondary:a,tertiary:t})=>i.a.createElement(K,{"data-tpl":"checkout"},e&&i.a.createElement(q.a,{disabled:e.disabled,iconColor:z.b.safetyOrange,onClick:e.onClick,trailing:G.a.arrowRight,variant:H.a.black},e.label),a&&i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{orientation:Y.a.vertical,spacing:T.b.large}),i.a.createElement(q.a,{"data-track-link":a.dataTracking,iconColor:z.b.safetyOrange,onClick:a.onClick,trailing:G.a.arrowRight},a.label)),t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{spacing:T.b.large}),i.a.createElement(Z.a,{"data-track-link":"[MODEL]_config_ux:download_pdf",as:t.url?"a":void 0,disabled:t.disabled,href:t.url,leading:G.a.download,iconColor:z.b.black,onClick:t.onClick,trailing:t.isLoading?i.a.createElement(J.c,null):void 0},t.label)));var Q=()=>{const{goToCheckout:e}=Object(W.a)(),{isFspLoading:a}=Object(s.b)(),{checkoutCTAText:t,checkoutAlternateLink:n}=Object(_.b)(),{isFetchingConfiguration:l,staticData:o,fspState:c}=Object(u.a)(),{pdfCTAText:d,callPDF:p,isLoading:m}=Object($.a)(),[b,g]=Object(r.useState)(!1),v=Object(f.a)(b),y=!(null==o||!o.source);Object(r.useEffect)(()=>{let e;return a||l?g(!0):!v||a||l||(e=setTimeout(()=>g(!1),500)),()=>clearInterval(e)},[l,a,b,v]);const h={primary:t?{disabled:b,label:t,onClick:()=>e(!1)}:void 0,secondary:n&&!y?{disabled:!1,label:n.label,onClick:()=>{n&&window.open(encodeURI(n.url),"_self")},dataTracking:"[MODEL]_config_ux:"+n.dataTrackingId}:void 0,tertiary:d?{disabled:b,label:d,isLoading:m,onClick:()=>{let e=void 0;const a={};c&&(e=c.monthlyCost.value,(c.inputs||[]).forEach(e=>a[e.id]=String(e.value))),p(e,a)}}:void 0};return h.primary||h.secondary?i.a.createElement(X,h):null},ee=t("pNhi");const ae=Object(x.a)("div",{target:"etxajh90"})("");var te=({desc:e,info:a,extraInfo:t})=>i.a.createElement(ae,{"data-tpl":"delivery"},i.a.createElement(U.a,null),i.a.createElement(R.a,{as:"div"},e),a&&i.a.createElement(R.a,{as:"div",color:z.b.stormGrey},a),t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,null),t.label&&i.a.createElement(R.a,{as:"div"},t.label),i.a.createElement(U.a,{spacing:T.b.small}),i.a.createElement(Z.a,{as:"a","data-track-link":t.link.dataTracking,href:t.link.url,iconColor:z.b.safetyOrange,trailing:G.a.arrowRight,rel:"noopener",target:"_blank"},t.link.label)));var ne=()=>{var e;const{appData:a,staticData:t}=Object(u.a)(),{stockDelivery:n}=Object(ee.a)(null==t||null===(e=t.preConfigured)||void 0===e?void 0:e.isDynamicDelivery),l=null==a?void 0:a.delivery,o=!(null==t||!t.source),c=null==t?void 0:t.externalLinks,s=null==t?void 0:t.preConfigured,d=Object(r.useMemo)(()=>n.data,[n.data]),p=Object(r.useMemo)(()=>{if(l&&s){var e,a,t,n,r;const{data:{value:i,name:u},labels:{heading:p}}=l,{showExact:m,showSimilar:b}=s,f=m||b,g=null==c||null===(e=c.data.preConfigured)||void 0===e?void 0:e.url,v=null==c||null===(a=c.data.preConfigured)||void 0===a?void 0:a.label,y=null==c||null===(t=c.data.preConfigured)||void 0===t?void 0:t.dataTrackingId,h=(e,a)=>({label:a||"",value:e});let E=void 0;if(f)if(s.isDynamicDelivery)if(d&&d.availableInStock){const{delivery:e}=d;E=null!=e&&e.formatted?h(e.formatted,s.deliveryDateLabel):void 0}else E=i?h(i,u):void 0;else E=h("",s.deliveryDateValue);else E=i?h(i,u):void 0;return{heading:p,desc:null===(n=E)||void 0===n?void 0:n.label,info:null===(r=E)||void 0===r?void 0:r.value,extraInfo:!o&&!f&&g&&v?{label:null==c?void 0:c.labels.preConfiguredLabel,link:{label:v,url:encodeURI(g),dataTracking:y&&"[MODEL]_config_ux:"+y}}:void 0}}},[l,c,o,s,d]);return p?i.a.createElement(te,p):null};const le=Object(x.a)(P.c,{target:"e1a7frfw0"})("background:",z.b.signalWhite,";padding:",T.b.xxLarge," 0px!important;margin:0 0 ",T.b.medium," 0;");var re=({delivery:e,checkout:a,deposit:t,heading:n})=>i.a.createElement(le,{"data-tpl":"delivery-checkout"},i.a.createElement(N.b,null,i.a.createElement(V.a,{span:{mobile:4,tablet:4,desktop:6,desktopWide:5}},i.a.createElement(B.a,{as:"h3"},n),e&&i.a.createElement(i.a.Fragment,null,i.a.createElement(ne,null)),i.a.createElement(U.a,{spacing:T.b.medium})),i.a.createElement(V.a,{span:{mobile:"hidden",tablet:"hidden",desktop:"hidden",desktopWide:1}}),i.a.createElement(V.a,{span:{mobile:4,tablet:4,desktop:6,desktopWide:6}},t&&i.a.createElement(r.Fragment,null,i.a.createElement("div",{"data-row":"deposit"},i.a.createElement(R.a,{as:"div","data-el":"label",color:Object(z.d)(z.b.graphiteBlack,.6)},t.label),i.a.createElement(U.a,{spacing:T.b.small}),i.a.createElement(R.a,{as:"div"},t.value)),i.a.createElement(U.a,{spacing:T.b.large})),a&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Q,null)))));var ie=()=>{const{appData:e}=Object(u.a)();if(!e)return null;const{delivery:a,prices:t}=e;if(!a)return null;let n;if(t&&t.subTotals)for(const e of t.subTotals)if(!e.hideItem&&"downpayment"===e.type&&e.value){n={label:e.name,value:e.value,type:e.type};break}const{heading:l}=a.labels;return i.a.createElement(re,{checkout:!0,delivery:!0,deposit:n,heading:l})},oe=t("pVnL"),ce=t.n(oe),se=t("F8Mn"),de=t("F3cN"),ue=t("TEkP"),pe=t("fs2/");var me=({label:e,value:a,onChange:t,valueFormat:n,settings:l})=>{const{steps:r,indexToValue:o,valueToIndex:c}="discrete"===l.type?(({values:e})=>({steps:e.length,indexToValue:a=>{const t=e[a];return t||e[0]},valueToIndex:a=>{const t=e.findIndex(e=>e===a);return t<0?0:t}}))(l):(({maxValue:e,minDownPaymentAmount:a,minValue:t,residualAmount:n,sliderType:l,step:r,totalPrice:i})=>{let o=i>0?i*(t/100):t,c=i>0?i*(e/100):e;l===g.e.DownPayment&&(a&&(o=Math.round(a)),n&&(c-=Math.round(n),c=Math.floor(c/r)*r));const s=Math.floor(o/r),d=Math.ceil(c/r),u=d-s;return{steps:u,indexToValue:e=>(e=Math.floor(e))<=0?o:e>=u-1?c:(e+s)*r,valueToIndex:e=>{let a=e/r-s;return a=Math.floor(a),Math.min(a,Math.max(d,0))}}})(l);return i.a.createElement(pe.a,{key:l.sliderType,onContextMenu:e=>{e.preventDefault();var a=new MouseEvent("click",{bubbles:!0,clientX:e.clientX,clientY:e.clientY});e.target.dispatchEvent(a)},label:e,min:0,max:r-1,steps:r,value:c(a),onChange:e=>{t(o(e))},valueFormat:e=>n(o(e))})},be=t("OTL6"),fe=t("o33y"),ge=t("SUQ9"),ve=t("aXQy"),ye=t("QKdN"),he=t("Sc1v"),Ee=t("4j9f"),Oe=t("HBCW"),ke=t("Y5LF"),je=t("siue"),Ce=t("Gh92"),we=t("MlsX"),Se=t("U8Pi"),xe=t("488y");function Te(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Pe(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Te(Object(t),!0).forEach((function(a){l()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Te(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}const De=e=>i.a.createElement(i.a.Fragment,null,e.length>0&&i.a.createElement(ke.a,{separator:i.a.createElement(Ce.a,null),as:"ul"},e.map((e,a)=>i.a.createElement(Ie,{key:a},i.a.createElement(we.a,null,e.key),i.a.createElement(we.a,null,e.value))))),Le=e=>{const a=Object(Se.b)(xe.a.default,{text:Pe(Pe({},xe.a.default.text),{},{color:z.b.stormGrey})});return i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{spacing:T.b.large}),e.title&&i.a.createElement(i.a.Fragment,null,i.a.createElement(R.a,{as:"h4"},e.title)),i.a.createElement(je.d,{theme:a},i.a.createElement(ue.a,e.content)))},Fe=Object(x.a)("div",{target:"eq42drc1"})("ul>div{height:",T.b.medium,";:after{background:",Object(z.d)(z.b.graphiteBlack,.15),";}}"),Ie=Object(x.a)("div",{target:"eq42drc0"})({name:"1b8ev69",styles:"display:flex;justify-content:space-between;margin:0"});var Ae=({list:e,disclaimer:a})=>i.a.createElement(i.a.Fragment,null,e&&i.a.createElement(Fe,null,De(e),a&&Le(a),i.a.createElement(U.a,{spacing:T.b.xLarge})));var Me=e=>i.a.createElement(Ae,e);const Ne=({disclaimer:e,downpayment:a,heading:t,isLoading:n,logo:l,price:r,priceStyle:o,credit:c})=>i.a.createElement(i.a.Fragment,null,i.a.createElement(ge.a,{mainAxisAlignment:ve.b.spaceBetween},i.a.createElement("div",null,i.a.createElement(R.a,{as:"div",color:Object(z.d)(z.b.graphiteBlack,.6)},t,":"),i.a.createElement(U.a,{spacing:T.b.xSmall}),i.a.createElement(ge.a,{crossAxisAlignment:ve.b.center},Be(r,z.b.safetyOrange,o),n&&i.a.createElement(ge.a,null,i.a.createElement(U.a,{orientation:Y.a.horizontal,spacing:T.b.xSmall}),i.a.createElement(J.c,null)))),l&&i.a.createElement(ye.a,{href:l.link},i.a.createElement(he.a,{alternative:"",height:68,source:l.img,width:60}))),a&&i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{spacing:T.b.xSmall}),i.a.createElement(R.a,{as:"div"},a)),c&&i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{spacing:T.b.medium}),i.a.createElement(R.a,{as:"div",color:Object(z.d)(z.b.graphiteBlack,.6)},c.title,":"),i.a.createElement(U.a,{spacing:T.b.xxSmall}),i.a.createElement(R.a,{as:"div",color:Object(z.d)(z.b.graphiteBlack,.6),fontSize:{mobile:Ee.b.body}},c.text)),e&&i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{spacing:T.b.xSmall}),e.title&&i.a.createElement(i.a.Fragment,null,i.a.createElement(R.a,{as:"h4"},e.title),i.a.createElement(U.a,{spacing:T.b.xSmall})),i.a.createElement(ue.a,e.content))),Ve=({heading:e,isLoading:a,price:t,priceStyle:n})=>i.a.createElement(i.a.Fragment,null,i.a.createElement(ge.a,{mainAxisAlignment:ve.b.spaceBetween},i.a.createElement("div",null,i.a.createElement(R.a,{as:"div",color:Object(z.d)(z.b.graphiteBlack,.6)},e,":"),i.a.createElement(U.a,{spacing:T.b.xSmall}),i.a.createElement(ge.a,{crossAxisAlignment:ve.b.center},Be(t,Object(z.d)(z.b.graphiteBlack,.6),n),a&&i.a.createElement(ge.a,null,i.a.createElement(U.a,{orientation:Y.a.horizontal,spacing:T.b.xSmall}),i.a.createElement(J.c,null)))))),Be=(e,a,t)=>{const n=t&&"plain"===t.toLowerCase();return i.a.createElement(R.a,{as:"div",color:n?z.b.graphiteBlack:a,fontSize:n?{mobile:Ee.b.body}:{mobile:Ee.b.large},lineHeight:n?{mobile:Oe.b.small}:{mobile:Oe.b.large}},e)},Ue=Object(x.a)("div",{target:"e1n2knck1"})("");var Re=({campaignPrice:e,cost:a,additionalInfoData:t})=>i.a.createElement(Ue,{"data-tpl":"total-price"},i.a.createElement(Me,t),e&&i.a.createElement(i.a.Fragment,null,Ve(e),i.a.createElement(U.a,{spacing:T.b.large})),a&&i.a.createElement(i.a.Fragment,null,Ne(a),i.a.createElement(U.a,{spacing:T.b.large})));var ze=()=>{const{appData:e,isFetchingConfiguration:a}=Object(u.a)(),{currentMarket:t}=Object(be.a)(),[n,l]=Object(r.useState)();return Object(r.useEffect)(()=>{if(e){const{financialProductDefinitions:n,prices:r}=e;let i=void 0,o=void 0,c=void 0;if(n){const{customerTypes:e,monthlyCalculation:l,selectedFinance:s}=n.data,{customerType:d,financialProduct:u}=s;e.forEach(e=>{e.customerType===d&&e.financialProducts&&e.financialProducts.forEach(e=>{if(e.type===u){const{monthlyTotalStyle:s,finePrintStyle:p}=e;if(l&&u!==g.f.Cash){const{formattedAdvancePayment:u,description:m,formattedPrice:b,logoImageUrl:f,logoLinkUrl:v,finePrintDescription:y,vatSuffix:h,additionalInfo:E,additionalInfoDisclaimer:O}=l;let k,j;y&&"uk"!==(null==t?void 0:t.locale)?(k=y,j=n.labels.collapsibleFinePrintTitle):k=m;const C=null==r?void 0:r.summaryPriceWithIncentive;C&&(o={heading:e.monthlyCostBonusPreLabel||"",isLoading:a,price:C,priceStyle:s}),i={disclaimer:!k||null!=E&&E.length?void 0:{title:j,content:{type:"markdown",value:k,variant:"disclaimer",fontStyle:p}},downpayment:u,heading:h||"",isLoading:a,logo:f&&v&&d!==g.b.B2B?{link:Object(fe.b)(v),img:Object(fe.b)(f)}:void 0,price:(null==r?void 0:r.summaryPrice)||b+e.monthlyCostPostLabel,priceStyle:s,showFinance:!0},c={list:E,disclaimer:O&&E?{title:"",content:{type:"markdown",value:O,variant:"disclaimer",fontStyle:"normal",fontColor:"plain"}}:void 0}}}})})}(i||o)&&l({campaignPrice:o,cost:i,additionalInfoData:c})}},[e,null==t?void 0:t.locale,a]),n?i.a.createElement(Re,n):null};const _e=(e,a)=>{if(void 0===e)return null;switch(e.type){case"radio":return i.a.createElement(i.a.Fragment,null,i.a.createElement(de.a,ce()({},e,{orientation:a?Y.a.horizontal:void 0})),e.info&&i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,null),i.a.createElement(ue.a,e.info)));case"slider":return i.a.createElement(me,e.props)}},We=Object(x.a)("div",{target:"e1om84301"})(""),$e=Object(x.a)(P.c,{target:"e1om84300"})("background:",z.b.signalWhite,";padding:",T.b.xxLarge," 0px!important;margin:0 0 ",T.b.medium," 0;");var qe=({fields:e,heading:a,incentive:t,sectionDesc:n})=>{const{name:l}=Object(se.a)(),o="desktopWide"===l;return i.a.createElement($e,{"data-tpl":"finance"},i.a.createElement(N.b,null,i.a.createElement(V.a,{span:{mobile:4,tablet:4,desktop:6,desktopWide:5}},i.a.createElement(B.a,{as:"h2"},a),i.a.createElement(U.a,{spacing:T.b.medium}),n&&i.a.createElement(i.a.Fragment,null,i.a.createElement(ue.a,n),i.a.createElement(U.a,{spacing:T.b.medium}))),i.a.createElement(V.a,{span:{mobile:"hidden",tablet:"hidden",desktop:"hidden",desktopWide:1}}),i.a.createElement(V.a,{span:{mobile:4,tablet:4,desktop:6,desktopWide:6}},i.a.createElement(We,null,e.map((e,a)=>i.a.createElement(r.Fragment,{key:a},a>0&&i.a.createElement(U.a,{spacing:T.b.medium}),_e(e,o))),i.a.createElement(U.a,{spacing:T.b.large}),i.a.createElement(ze,null)),t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(R.a,{as:"div",color:Object(z.d)(z.b.graphiteBlack,.6)},t.label),i.a.createElement(U.a,{spacing:T.b.small}),i.a.createElement(ue.a,t.info)))))};var Ge=e=>{const{financing:a,financeFields:t,financeproductInfo:n}=e,{appData:l}=Object(u.a)();if(!l)return null;const{prices:r}=l;let o;if(!a.showCash&&r&&r.subTotals)for(const e of r.subTotals)if(!e.hideItem&&"incentiveamount"===e.type&&e.info){o={label:e.name,info:{type:"markdown",value:e.info},type:e.type};break}return i.a.createElement(qe,{sectionDesc:n,fields:t,heading:a.productName,incentive:o})},He=t("Voku"),Ye=t("XLnz"),Ze=t("LNuH"),Je=t("AeFk"),Ke=t("+RSl");const Xe=({current:e,cta:a,heading:t})=>i.a.createElement("div",{"data-tpl":"group"},i.a.createElement(R.a,{as:"div",color:Object(z.d)(z.b.graphiteBlack,.6),fontFamily:Ke.a.polestarUnicaName},t,":"),i.a.createElement(U.a,{spacing:T.b.xxSmall}),i.a.createElement(R.a,{as:"div"},e),a&&i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{spacing:T.b.medium}),i.a.createElement(Z.a,ce()({},a,{iconColor:z.b.safetyOrange,trailing:G.a.arrowRight}),a.label))),Qe=Object(x.a)("div",{target:"e1dephgz0"})(({addStyle:e})=>Object(Je.b)("align-items:flex-start;background-color:",e?z.b.ironGrey:"",";display:flex;flex-direction:column;padding:",e?T.b.medium:T.b.none,";& div{color:",e?z.b.white:"",";}",""),"");var ea=({alternateStyle:e,groups:a})=>i.a.createElement(Qe,{"data-tpl":"au-state-selector",addStyle:e},null==a?void 0:a.map((e,a)=>i.a.createElement(r.Fragment,{key:a},a>0&&i.a.createElement(U.a,{spacing:T.b.large}),Xe(e))));var aa=()=>{const{staticData:e}=Object(u.a)(),{openDialog:a}=Object(c.b)(),[t,n]=Object(r.useState)([]),l=Object(Ze.c)("australian_state"),o=Object(f.a)(l),s=Object(r.useCallback)((e=!0)=>{a(i.a.createElement(Ye.a,{selectedRegionCode:l}),e)},[a,l]);return Object(r.useEffect)(()=>{if(l!==o&&null!=e&&e.dealerLabels&&e.regions){var a;const{dealerLabels:{dealerSelected:t,dealerChange:r,selectDealerTitle:i,selectDealerDesc:o},regions:c}=e,d=c.data.regions,u={label:r||"",onClick:()=>{s()}},p=l?null===(a=d.find(e=>e.salesModels.find(e=>e.mappingCode===l)))||void 0===a?void 0:a.name:o;n([{heading:l?t:i,current:p||"",cta:u}])}},[s,o,l,e]),i.a.createElement(ea,{alternateStyle:!l,groups:t})},ta=t("9ipq"),na=t("oVNx"),la=t("RcMF"),ra=t("Bq7r"),ia=t("LeJ0");const oa=({current:e,cta:a,heading:t})=>i.a.createElement("div",{"data-tpl":"group"},i.a.createElement(R.a,{as:"div",color:Object(z.d)(z.b.graphiteBlack,.6),fontFamily:Ke.a.polestarUnicaName},t,":"),i.a.createElement(U.a,{spacing:T.b.xxSmall}),i.a.createElement(R.a,{as:"div"},e),a&&i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{spacing:T.b.medium}),i.a.createElement(Z.a,ce()({},a,{iconColor:z.b.safetyOrange,trailing:G.a.arrowRight}),a.label))),ca=Object(x.a)("div",{target:"e1oll3h40"})(({addStyle:e})=>Object(Je.b)("align-items:flex-start;background-color:",e?z.b.ironGrey:"",";display:flex;flex-direction:column;padding:",e?T.b.medium:T.b.none,";& div{color:",e?z.b.white:"",";}",""),"");var sa=({alternateStyle:e,groups:a})=>i.a.createElement(ca,{"data-tpl":"dealer",addStyle:e},null==a?void 0:a.map((e,a)=>i.a.createElement(r.Fragment,{key:a},a>0&&i.a.createElement(U.a,{spacing:T.b.large}),oa(e))));function da(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function ua(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?da(Object(t),!0).forEach((function(a){l()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):da(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var pa=()=>{const{openDialog:e}=Object(c.b)(),{selectDealer:a,dealerInputAction:t,validateZipCode:n}=Object(na.a)(),{dealerData:l}=Object(la.a)(),{appData:o,staticData:s}=Object(u.a)(),{updateUserActionMessage:d}=Object(b.a)(),[p,m]=Object(r.useState)(),[f,g]=Object(r.useState)(),[v,y]=Object(r.useState)({isFetching:!1,postalCode:void 0}),[h,E]=Object(r.useState)(!0),[O,k]=Object(r.useState)(!0),j=null==o?void 0:o.partner,C=null==s?void 0:s.hasMultiRegions,w=Object(r.useCallback)(a=>{const t=new URLSearchParams(location.search),n=a||t.get("zipcode")||void 0;e(i.a.createElement(ta.a,{selectedZipCode:n}),!0)},[e]),S=Object(r.useCallback)(e=>{var a;const t=Object(ia.a)(),{geolocation:l}=t,r=l.geoURL,i=l.key;if(null!==(a=navigator)&&void 0!==a&&a.geolocation)try{y(ua(ua({},v),{},{isFetching:!0})),navigator.geolocation.getCurrentPosition((async function(a){const{latitude:t,longitude:l}=a.coords,o=await fetch(`${r}?latlng=${t},${l}&key=${i}&language=en`),c=await o.json();if(c&&c.results){const a=c.results[0].address_components.filter(({types:e})=>Object.values(e).includes("postal_code")),t=a&&a.length>0?a[0].long_name:void 0;!!t&&n(t,e)&&(y({postalCode:t,isFetching:!1}),d("config.location.success"))}}))}catch(e){y(ua(ua({},v),{},{isFetching:!1})),d("config.location.failed")}else d("config.location.disallowed")},[v,d,n]);Object(r.useEffect)(()=>{if(s&&j){var e,n;let r=void 0,i=void 0,o=void 0,c=void 0,u=void 0;const{regions:b,dealerLabels:x,market:T}=s,{isFetching:P,postalCode:D}=v,L=sessionStorage.getItem("additionalOrderDetails"),F=!!s.source;if(!h||F||Object(ra.c)()||f||D||P||L||S(T.country.toLowerCase()),h&&D&&(t(D,{hasInputError:!1,showAllDealers:!1}),E(!1)),!h&&l&&O&&D){const{data:{dealers:e}}=l;e&&e.length&&(u=e[0].code,c=e[0].name,a({selectedDealer:{code:u,name:c},zipCodeValue:D,showAllDealers:!1,hasInputError:!1},!0)),k(!1)}let I,A;if(L&&(I=JSON.parse(L),I&&(c=I.dealerName,u=I.dealerCode,o=I.userZipCode,A=I.geoPostalCode)),!A||v.postalCode||f||y({isFetching:!1,postalCode:A}),!o||f&&o===f||(g(o),D&&y({isFetching:!1,postalCode:void 0})),h&&(o||f)&&u&&(a({selectedDealer:{code:u,name:c},zipCodeValue:o||f,showAllDealers:!1,hasInputError:!1}),E(!1),k(!1)),x){const{dealerSelected:e,dealerChange:a,selectDealerTitle:t,selectDealerDesc:n,preSelectedRetailerTitle:l}=x,s=!o&&(D||A);if(C&&b){const{labels:e,data:a}=b;r={heading:s?x.preSelectedProvinceTitle:e.province||"",current:a.partnerCashRegionLookup[j]||""}}const u=f||D||o||A;i={heading:c?s?l:e:t||"",current:c||n||"",cta:{label:a||"",onClick:()=>{w(u),d("config.dealer.open")}}}}!i||i.current===(null==p?void 0:p.dealer.current)&&(null===(e=r)||void 0===e?void 0:e.current)===(null==p||null===(n=p.province)||void 0===n?void 0:n.current)||m({province:r,dealer:i})}},[l,t,S,v,null==p?void 0:p.dealer,null==p?void 0:p.province,C,h,O,w,j,a,f,s,d]);const x=[];return p&&p.dealer&&(C&&p.province&&(f||v.postalCode)&&x.push(p.province),x.push(p.dealer)),i.a.createElement(sa,{alternateStyle:!f&&!v.postalCode,groups:x})};const ma=e=>{const{currentTabIndex:a,tabLabels:t,onChange:n}=e;return i.a.createElement(He.a,{tabs:t.map(e=>({label:e})),onTabClick:e=>{n("",e)},activeTab:a,maxLabelWidth:120,withBorder:!1})},ba=(e,a)=>{const{currentTabIndex:t,tabFields:n}=e;return i.a.createElement(i.a.Fragment,null,null==n?void 0:n.map(e=>{const{index:n,fields:l}=e;if(n===t&&l)return i.a.createElement(i.a.Fragment,null,l.map((e,t)=>i.a.createElement(r.Fragment,{key:"tabField"+t},fa(e,a))))}))},fa=(e,a)=>void 0===e?null:"radio"===e.type?i.a.createElement(r.Fragment,{key:"radio"+e.value},i.a.createElement(de.a,ce()({},e,{orientation:a?Y.a.horizontal:void 0})),e.info&&i.a.createElement(r.Fragment,{key:"info"+e.value},i.a.createElement(U.a,{key:e.value}),i.a.createElement(ue.a,e.info))):void 0,ga=Object(x.a)("div",{target:"e58xfoo2"})(""),va=Object(x.a)("div",{target:"e58xfoo1"})(""),ya=Object(x.a)(P.c,{target:"e58xfoo0"})("background:",z.b.signalWhite,";padding:",T.b.xxLarge," 0px!important;margin:0 0 ",T.b.medium," 0;");var ha=({description:e,displayLink:a,fields:t,info:n,heading:l,dealer:o,stateSelector:c,tabs:s})=>{const{name:d}=Object(se.a)(),u="desktopWide"===d;return i.a.createElement(ga,{"data-tpl":"finance-products"},i.a.createElement(ya,null,i.a.createElement(N.b,null,i.a.createElement(V.a,{span:{mobile:4,tablet:4,desktop:6,desktopWide:5}},i.a.createElement(B.a,{as:"h2"},l),i.a.createElement(U.a,{spacing:T.b.medium}),e&&i.a.createElement(r.Fragment,{key:"financeDesc"},i.a.createElement(ue.a,ce()({key:"financeDesc"},e)),i.a.createElement(U.a,{spacing:T.b.medium})),n&&a&&n.link&&i.a.createElement(i.a.Fragment,null,i.a.createElement(ye.a,{href:n.link.url,rel:"noopener",target:"_blank"},n.link.label),i.a.createElement(U.a,{spacing:T.b.xxLarge}))),i.a.createElement(V.a,{span:{mobile:"hidden",tablet:"hidden",desktop:"hidden",desktopWide:1}}),i.a.createElement(V.a,{span:{mobile:4,tablet:4,desktop:6,desktopWide:6}},i.a.createElement(va,{"data-tpl":"finance"},o&&i.a.createElement(i.a.Fragment,null,i.a.createElement(pa,null),i.a.createElement(U.a,{spacing:T.b.large})),c&&i.a.createElement(i.a.Fragment,null,i.a.createElement(aa,null),i.a.createElement(U.a,{spacing:T.b.large})),t.map((e,a)=>i.a.createElement(r.Fragment,{key:"field"+a},a>0&&i.a.createElement(U.a,{key:a,spacing:T.b.large}),fa(e,u))),s&&s.tabLabels&&i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{spacing:T.b.large}),i.a.createElement(R.a,{as:"div",color:Object(z.d)(z.b.graphiteBlack,.6),fontSize:{mobile:Ee.b.body}},s.heading),i.a.createElement(U.a,{spacing:T.b.xxSmall}),ma(s),i.a.createElement(U.a,{spacing:T.b.large}),ba(s,u)))))))};var Ea=e=>i.a.createElement(ha,e),Oa=t("fqE7");const ka=e=>i.a.createElement(Sa,{separator:i.a.createElement(Ce.a,null)},e.map(({label:e,list:a,price:t,type:n},l)=>i.a.createElement(r.Fragment,{key:l},i.a.createElement(R.a,{as:"div",color:Object(z.d)(z.b.graphiteBlack,.6)},e),i.a.createElement(U.a,{spacing:T.b.small}),i.a.createElement(ue.a,t),a&&i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,null),i.a.createElement(Oa.a,null,a.map(({label:e,price:a},t)=>i.a.createElement("div",{key:t},i.a.createElement(R.a,{as:"div",color:Object(z.d)(z.b.graphiteBlack,.6)},e),i.a.createElement(U.a,{spacing:T.b.xSmall}),i.a.createElement(ue.a,a)))))))),ja=({heading:e,price:a,priceStyle:t,credit:n})=>i.a.createElement(i.a.Fragment,null,i.a.createElement(ge.a,{mainAxisAlignment:ve.b.spaceBetween},i.a.createElement("div",null,i.a.createElement(R.a,{as:"div",color:Object(z.d)(z.b.graphiteBlack,.6)},e,":"),i.a.createElement(U.a,{spacing:T.b.xSmall}),i.a.createElement(ge.a,{crossAxisAlignment:ve.b.center},Ca(a,z.b.safetyOrange,t)))),n&&i.a.createElement(i.a.Fragment,null,i.a.createElement(U.a,{spacing:T.b.medium}),i.a.createElement(R.a,{as:"div",color:Object(z.d)(z.b.graphiteBlack,.6)},n.title,":"),i.a.createElement(U.a,{spacing:T.b.xxSmall}),i.a.createElement(R.a,{as:"div",fontSize:{mobile:Ee.b.body}},n.text))),Ca=(e,a,t)=>{const n=t&&"plain"===t.toLowerCase();return i.a.createElement(R.a,{as:"div",color:n?z.b.graphiteBlack:a,fontSize:n?{mobile:Ee.b.body}:{mobile:Ee.b.large},lineHeight:n?{mobile:Oe.b.small}:{mobile:Oe.b.large}},e)},wa=Object(x.a)("div",{target:"ewxxvh13"})(""),Sa=Object(x.a)(ke.a,{target:"ewxxvh12"})({name:"7dj9wl",styles:"li{display:block!important;}"}),xa=Object(x.a)("div",{target:"ewxxvh11"})(""),Ta=Object(x.a)(P.c,{target:"ewxxvh10"})("background:",z.b.signalWhite,";padding:",T.b.xxLarge," 0px!important;margin:0 0 ",T.b.medium," 0;");var Pa=({campaignPrice:e,cost:a,heading:t,list:n})=>i.a.createElement(Ta,{"data-tpl":"price-specification"},i.a.createElement(N.b,null,i.a.createElement(V.a,{span:{mobile:4,tablet:4,desktop:6,desktopWide:5}},i.a.createElement(B.a,{as:"h2"},t),i.a.createElement(U.a,{spacing:T.b.medium})),i.a.createElement(V.a,{span:{mobile:"hidden",tablet:"hidden",desktop:"hidden",desktopWide:1}}),i.a.createElement(V.a,{span:{mobile:4,tablet:4,desktop:6,desktopWide:6}},i.a.createElement(xa,null,i.a.createElement(wa,{"data-tpl":"total-price"},!e&&i.a.createElement(i.a.Fragment,null,ka(n),i.a.createElement(U.a,{spacing:T.b.large})),a&&i.a.createElement(i.a.Fragment,null,ja(a)))))));var Da=()=>{const{appData:e,isFetchingConfiguration:a}=Object(u.a)(),{currentMarket:t}=Object(be.a)(),[n,l]=Object(r.useState)();return Object(r.useEffect)(()=>{if(e){const{financialProductDefinitions:a,prices:t,labels:n,checkout:r}=e,i=[];if(t&&t.subTotals)for(const e of t.subTotals){const a=[];if(!e.hideItem&&"downpayment"!==e.type)if(e.breakdown&&e.breakdown.length>0){for(const t of e.breakdown)a.push({label:t.label,price:{type:"plain",value:t.value}});i.push({label:e.name,price:{type:"plain",value:e.value},list:a,type:e.type})}else!e.value&&e.info?i.push({label:e.name,price:{type:"markdown",value:e.info},type:e.type}):i.push({label:e.name,price:{type:"plain",value:e.value},type:e.type})}let o,c=void 0,s=void 0;if(a){const{customerTypes:e,selectedFinance:l}=a.data,{customerType:i,financialProduct:s}=l;e.forEach(e=>{e.customerType===i&&e.financialProducts&&e.financialProducts.forEach(e=>{if(e.type===s){const{cashTotalStyle:a}=e;if(s===g.f.Cash){const e=null==t?void 0:t.summaryPrice,l=null==t?void 0:t.priceAfterCredit;if(l){const{name:e,value:a}=l;o={title:e,text:a}}c=e?{heading:(null==r?void 0:r.labels.priceTitle)||n.priceTitle||"",price:e,priceStyle:a,credit:o}:void 0}}})})}(c||s||i.length)&&l({campaignPrice:s,cost:c,heading:n.priceBreakdownHeading,list:i})}},[e,null==t?void 0:t.locale,a]),n?i.a.createElement(Pa,n):null};const La=Object(x.a)("div",{target:"ek4aefz1"})("margin:",T.b.xxLarge," 0;"),Fa=Object(x.a)(P.c,{target:"ek4aefz0"})("&>div{padding:",T.b.xxLarge," 0;}");var Ia=({dealer:e,stateSelector:a,displayLink:t,financeOptionFields:n,financeProductFields:l,financeSectionDesc:o,financing:c,heading:s,info:d,showCash:u,tabs:p,threshold:b})=>{const{ref:f,inView:v}=Object(D.a)(b?{threshold:b}:void 0),{isSummaryVisible:y,setSummaryVisible:h}=Object(M.b)(),{isFspEnabled:E}=Object(m.a)();return Object(r.useEffect)(()=>{y!==v&&h(v)},[v,y,h]),i.a.createElement(La,{"data-tpl":"summary",id:"summary",ref:f},i.a.createElement(Fa,null,i.a.createElement(Ea,{dealer:e,stateSelector:a,description:o,displayLink:t,fields:l,heading:s,info:d,tabs:p}),c&&c.productType!==g.f.Cash&&(E?i.a.createElement(A,c):i.a.createElement(Ge,{financing:c,financeproductInfo:null==d?void 0:d.text,financeFields:n})),u&&i.a.createElement(Da,null),i.a.createElement(ie,null),i.a.createElement(L.a,null)))};function Aa(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Ma(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Aa(Object(t),!0).forEach((function(a){l()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Aa(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}const Na={conflictIds:void 0,customerType:"",customerSubType:void 0,financeDetails:void 0,productName:"",productType:g.f.Cash,productInfo:void 0,readMoreUrl:"",sliderValues:[],showCash:!0};a.default=()=>{const{isTabletop:e,localSettings:a}=Object(d.b)(),{showSnackBar:t}=Object(p.a)(),{updateUserActionMessage:n}=Object(b.a)(),{appData:l,staticData:v,calculatePriceAction:h,hasErrors:E}=Object(u.a)(),{openDialog:x}=Object(c.b)(),{isFspError:T,setFspError:P}=Object(s.b)(),{isFspEnabled:D}=Object(m.a)(),[L,F]=Object(r.useState)(Na),[I,A]=Object(r.useState)(void 0),[M,N]=Object(r.useState)(!0),V=null==l?void 0:l.financialProductDefinitions,B=Object(f.a)(V),U=Object(f.a)(L),R=Object(f.a)(E),z=Object(r.useCallback)((e,a)=>{x(i.a.createElement(o.a,{featureCodes:e,featureSectionName:g.g.Extras,financeDetails:a}),!0)},[x]),_=null==a?void 0:a.zipcode;if(Object(r.useEffect)(()=>{if(V){const{selectedFinance:e}=V.data,{customerType:a,customerSubType:t,financialProduct:n}=e;let l=!1;if(a&&n&&M)l=!0,N(!1);else if(B&&U){const{selectedFinance:a}=B.data;(function(e,a){const{customerType:t,financialProduct:n}=a,{customerType:l,financialProduct:r}=e;if(t!==l||n!==r)return!0;if(!e.options&&a.options||e.options&&!a.options)return!0;if(a.options&&e.options){if(a.options.length!==e.options.length)return!0;for(let t=0;t<a.options.length;t++)if(a.options[t].value!==e.options[t].value)return!0}return!1}(a,e)||E&&!R)&&(l=!0)}if(l){const e=O(V,a,n,t);A(B),F(e)}}},[V,E,M,B,R,U]),Object(r.useEffect)(()=>{if(T)if(P(!1),null!=I&&I.data){const{selectedFinance:{customerType:e,customerSubType:a,financialProduct:t,options:n}}=I.data;h(k(t!==g.f.Cash.toString()?(n||[]).map(e=>({type:e.type,value:e.value})):[],e,t,D,a),j(n))}else if(V){const{selectedFinance:{customerType:e,customerSubType:a}}=V.data;h(k([],e,g.f.Cash,D,a))}},[h,V,D,T,I,P]),!l||null==V||!V.data||!v)return null;const{labels:{summary:W},prices:$}=l,{data:q,labels:G}=V,{customerTypes:H,selectedFinance:Y,monthlyCalculation:Z}=q,{customerType:J,customerSubType:K,productType:X,sliderValues:Q}=L,{customerType:ee,financialProduct:ae}=Y,{currencyFormatter:te,market:ne,fleet:le,salesForceCaseId:re,isMotoInsight:ie,isUpdateOrder:oe,isPreorder:ce}=v,se=G.financeSectionTitle,de=G.finance,ue=G.financeSectionDesc,pe=[],me=[],be=[];let fe=void 0,ge=void 0;const ve=[],ye=[];let he={};const Ee=[];let Oe=void 0,ke=void 0,je=void 0;if(Z){const{maxResidualValue:e,minDownPayment:a}=Z;Oe=e,je=a}if(re?pe.push({id:J,label:le||"Fleet",value:J}):H.length>1&&H.forEach(e=>{he[e.customerType]=e.infoText,pe.push({id:e.customerType,label:e.name,value:e.customerType})}),pe.length){const e=he[J];ye.push({info:e?{type:"markdown",value:e}:void 0,label:se,name:"customer-type",onChange:e=>{n("config.choose.finance.customer");const a=C(e.toString(),"switchCustomerType",X,V,J,D);if(a&&a.financeDetails){const{conflictIds:e,financeDetails:t}=a;e?z(e,t):(F(a),h(t.financeParams,j(a.sliderValues)))}},options:pe,type:"radio",value:J})}if(re||H.forEach(e=>{if(e.customerType===J){const t=e.financialProducts;if(t&&t.length>1){var a;(null===(a=t.filter(e=>!!e.displayGroup))||void 0===a?void 0:a.length)===t.length&&(fe={}),t.forEach(e=>{const{type:a,name:t,isDefault:n,displayGroup:l}=e;if(fe&&l){let e=fe[l]||{financeProducts:[]};e.financeProducts.push({id:a,label:t,value:a,isDefault:!!n}),fe[l]=e}me.push({id:a,label:t,value:a}),e.type===X&&e.options&&e.options.forEach(e=>{Ee.push(e)})})}e.customerSubTypes&&e.customerSubTypes.length>0&&e.customerSubTypes.forEach(e=>{be.push({id:e.custSubType,label:e.name,value:e.custSubType})})}}),me&&me.length)if(fe){let e=0,a="",t=[];Object.entries(fe).forEach(([n,l],r)=>{t.push({id:n,index:r,fields:[{label:"",name:"finance-product",onChange:e=>{Se(e,-1)},options:l.financeProducts,type:"radio",value:X}]});l.financeProducts.find(e=>e.value===X)&&(e=r,a=n)}),ge={heading:de,currentTabIndex:e,currentTabLabel:a,tabLabels:Array.from(Object.keys(fe)),tabFields:t,onChange:(e,a)=>Se(e,a)}}else{var Ce,we;const e=null===(Ce=L.productInfo)||void 0===Ce||null===(we=Ce.text)||void 0===we?void 0:we.value;ye.push({label:de,name:"finance-product",onChange:e=>{Se(e,-1)},options:me,type:"radio",value:X,info:X===g.f.Cash&&e?{type:"markdown",value:e}:void 0})}const Se=(a,l)=>{let r=a;if(ge&&fe&&l>=0){const e=fe[ge.tabLabels[l]];let a=e.financeProducts[0].value;for(const t of e.financeProducts)if(t.isDefault){a=t.value;break}r=a,ge=Ma(Ma({},ge),{},{currentTabIndex:l,currentTabLabel:ge.tabLabels[l]})}if(ie&&!oe&&!e&&r.toString()!==g.f.Cash){if(!sessionStorage.getItem("additionalOrderDetails"))return void t()}const i=C(r.toString(),"changeFinancialProduct",X,V,J,D);if(i&&i.financeDetails){const{conflictIds:e,financeDetails:a}=i;e?(n("config.conflict.finance.payment"),z(e,a)):(n("config.choose.finance.payment"),F(i),h(a.financeParams,j(i.sliderValues)))}};be&&be.length&&ye.push({label:G.customerSubTypeTitle||"",name:"customer-sub-type",onChange:e=>{const a=C(e.toString(),"changeCustomerSubType",X,V,J,D);if(a&&a.financeDetails){const{financeDetails:e}=a;n("config.choose.finance.customersubtype"),F(a),h(e.financeParams,j(a.sliderValues))}},options:be,type:"radio",value:L.customerSubType||""}),Ee&&Ee.length&&Ee.forEach(e=>{if(e.defaultValue||0===e.defaultValue){const{values:a,steps:t}=e,n=!!e.convertToYears&&e.type===g.e.Terms;let l=n?e.defaultValue/12:e.defaultValue;const r=null!=t&&t.isPercent&&$?$.totalPrice:0;let i;if(Q.forEach(a=>{e.type.toLowerCase()===a.type&&(l=n?Number(a.value)/12:Number(a.value))}),a&&a.length>1)i={type:"discrete",values:a,sliderType:e.type};else if(t){const{max:a,min:n,stepIncrement:l}=t,o=Q.find(e=>e.type.toLowerCase()===g.e.Residual&&"with_residual_value"===e.value);ke=r*(a/100)-(Oe?Math.round(Oe):0),ke=Math.floor(ke/l)*l;const c=e.type;i={type:"range",minValue:n,maxValue:a,step:l,sliderType:c,residualAmount:c===g.e.DownPayment&&o?Oe:void 0,minDownPaymentAmount:c===g.e.DownPayment&&je?je:void 0,totalPrice:r}}if(i)if("discrete"===i.type&&i.values.length<=4){const a=[];i.values.forEach(t=>{const l=n?t/12:t,r=l.toString();a.push({id:r,label:""+y(l,e,ne,te),value:r})});const t=l.toString();ve.push({label:e.name,name:e.type,onChange:a=>{const t=n?12*Number(a):Number(a),l=w(t,e.type,L,V);F(e=>Ma(Ma({},e),{},{sliderValues:l})),h(k(l,ee,ae,D,K,Oe))},options:a,type:"radio",value:t})}else ve.push({type:"slider",props:{type:e.type,label:e.name,value:n?12*l:l,onChange:a=>{const t=w(a,e.type,L,V);F(e=>Ma(Ma({},e),{},{sliderValues:t})),h(k(t,ee,ae,D,K,Oe))},valueFormat:a=>""+y(n?a/12:a,e,ne,te),settings:i}})}else if(e.parameterList&&e.parameterList.length>0){let a=S(e.parameterList);Q.forEach(t=>{e.type.toLowerCase()===t.type&&t.value&&(a=t.value.toString())});const t={type:"parameterList",values:e.parameterList,paramType:e.type},n=[];t.values.forEach(e=>{n.push({id:e.key,label:""+e.name,value:e.key})}),ve.push({label:e.name,name:e.type,onChange:a=>{const t=w(a,e.type,L,V,e.type===g.e.Residual?ke:void 0);F(e=>Ma(Ma({},e),{},{sliderValues:t})),h(k(t,ee,ae,D,K,Oe))},options:n,type:"radio",value:a})}});const xe=v.showPostCodeDialog&&!v.isMotoInsight;return i.a.createElement(Ia,{info:re||!me.length?void 0:L.productInfo,financeProductFields:ye,financeOptionFields:ve,displayLink:!e,financeSectionDesc:ue&&!v.source?{type:"markdown",value:ue}:void 0,threshold:ce?.1:void 0,dealer:ie&&!_,stateSelector:xe,financing:L,heading:W,showCash:L.showCash,tabs:ge})}},"tgN+":function(e,a,t){"use strict";var n=t("q1tI"),l=t.n(n),r=t("M6hU"),i=t("DZdY"),o=t("ZIlh"),c=t("JbaH"),s=t("Rq2L"),d=t("okeJ"),u=t("4UL4"),p=t("G2bx"),m=t("O4iI"),b=t("tybq"),f=t("TEkP");const g=Object(i.a)("div",{target:"e6avzde0"})("");var v=({initialExpanded:e,disclaimers:a,title:t})=>l.a.createElement(g,{"data-tpl":"disclaimer"},t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{as:"h3"},t),l.a.createElement(p.a,null)),l.a.createElement(m.b,{initialExpanded:e},null==a?void 0:a.map(({content:e,id:a,title:t},n)=>l.a.createElement(b.a,{id:a,key:n,optimizeRendering:!1,title:t},l.a.createElement(f.a,e)))));var y=()=>{const{appData:e}=Object(r.a)();if(!e)return null;const{disclaimer:a}=e;if(!a)return null;const{disclaimers:t,expanded:n,title:i}=a;if(0===t.length)return null;const o={},c=[];for(let e=0;e<t.length;e++){const a=t[e],l="disclaimer-"+e;c.push({content:{type:"markdown",value:a.value},title:a.label,id:l}),o[l]=!!n}return l.a.createElement(v,{initialExpanded:o,disclaimers:c,title:i})};const h=Object(i.a)("div",{target:"evmf6y60"})("");var E=({initialExpanded:e,items:a,title:t})=>l.a.createElement(h,{"data-tpl":"faq"},t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{as:"h3"},t),l.a.createElement(p.a,null)),l.a.createElement(m.b,{initialExpanded:e},null==a?void 0:a.map(({content:e,id:a,title:t},n)=>l.a.createElement(b.a,{id:a,key:n,optimizeRendering:!1,title:t},l.a.createElement(f.a,e)))));var O=()=>{const{appData:e}=Object(r.a)();if(!e)return null;const{faq:a}=e;if(!a)return null;const{data:{faqs:t,expanded:n},labels:{title:i}}=a;if(0===t.length)return null;const o={},c=[];for(let e=0;e<t.length;e++){const a=t[e],l="faq-"+e;c.push({content:{type:"markdown",value:a.value},title:a.label,id:l}),o[l]=!!n}return l.a.createElement(E,{initialExpanded:o,items:c,title:i})};const k=Object(i.a)("div",{target:"eg9g3py1"})("margin:",s.b.xxLarge," 0;"),j=Object(i.a)(d.c,{target:"eg9g3py0"})("margin:",s.b.xxLarge," 0 0;");var C=({disclaimer:e,faq:a})=>l.a.createElement(k,{"data-tpl":"disclaimers",id:"disclaimers"},l.a.createElement(j,null,l.a.createElement(o.b,null,l.a.createElement(c.a,{span:{mobile:4,tablet:4,desktop:6,desktopWide:5}},a&&l.a.createElement(O,null)),l.a.createElement(c.a,{span:{mobile:"hidden",tablet:"hidden",desktop:"hidden",desktopWide:2}}),l.a.createElement(c.a,{span:{mobile:4,tablet:4,desktop:6,desktopWide:5}},e&&l.a.createElement(y,null)))));a.a=()=>{const{appData:e}=Object(r.a)(),a=null==e?void 0:e.disclaimer,t=null==e?void 0:e.faq,i=Object(n.useMemo)(()=>({disclaimer:null!=a,faq:null!=t}),[a,t]);return l.a.createElement(C,i)}}}]);